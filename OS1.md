# OS１章
オペレーティングシステムはユーザーとハードウェアを仲介するものであり、基本ソフトウェアと呼ばれる。

## なぜOSが必要か
- ユーザー：
  ぼくたち

- ハードウェア：
  中央処理装置(CPU・プロセッサ)：クロックして命令の解読や実行を行う。最近は4GHzぐらい。
  主記憶装置(メモリ・メインメモリ)：CPUが用いる、一時的に情報を保存(揮発性)する場所
  補助記憶装置(ストレージ)：長期的に情報(不揮発性)を保存する場所

コンピューターはプログラムを実行して(プロセス)なんやかんややるけど、それを行うには何が必要か？
複数のプログラムを同時に実行(並列処理)するにはメモリ管理、プロセス管理が必要。
プログラムは基本的に補助記憶装置に保存されている(macならSSDかな)。それをメインメモリに持ってきて実行するから、
ファイルにお邪魔する許可をあげたり(ファイル管理)する。

抽象化：ファイルとかも抽象化の賜物らしいね。

## OSの構造
OSの主な機能を提供する中核のプログラムをkernelという。kernelは狭義のOSとも言えるが、広義のOSはもう少し広い。
kernelのサービスを受けるにあたってはスーパーバイザコールを必要とする。

## カーネルの機能
### プロセス管理
- プロセス(実行中のプログラム)を生成したり、消滅させたり、プロセスの全てを管理する。

### スケジューラ
- プロセス間でプロセッサを高速に切り替えることで複数のプロセスを同時に処理しているように見せかけることができる(マルチタスク)。マルチタスクにより、スループットを上げることができる。
- スケジューラは、タイマからの割り込みにより起動し、各プロセスの状態を把握して、プロセッサの割り当てなどを決定する。

### 同期と通信
- 並列にプロセスが処理される場合、データやプログラムなどの資源を共有することがある。お互いに干渉しないように、それらの間で連絡を取り合わねばならない。同期と通信はこれに役立つ。

### メモリ管理
- プログラムやデータは、実行や参照に先立って、SSDなどの補助記憶装置からメインメモリに移動させておく必要がある。OSは、どのプログラム、データをどこのメモリに配置するかを決定する。

### 割り込みと出入力処理
- 割り込みは、出入力装置の状態をCPUに伝えるための仕組みである。割り込みを検知すると、現在実行中のプロセスの状態を保存しておいて、割り込みハンドラーを起動させる。割り込みハンドラーは割り込みに対して処理を行い、再び先ほどまでのプロセスに実行を移す。

### ファイルシステム
- ファイルはファイルの集合であり、データ、プログラムを格納する単位。補助記憶装置に存在する。

### ブートストラップ
- 電源を入れてからOSが起動するまでの一連の動作をブートストラップという。通常、プログラムやデータはカーネル(OS)によって主記憶装置に載せられる。しかし、カーネルそのものもプログラムであるので、なんらかの形で主記憶装置に乗せる必要がある。そこで、ROMなどに小さなプログラムを用意しておき、起動時に補助記憶装置上にあるブートローダが起動してカーネルを主記憶装置に移す。

## カーネルの構成
- 昔はアセンブリ言語で書かれていたが、現在はC言語などの高水準言語で書かれている。
### モノリシックカーネル
- 







